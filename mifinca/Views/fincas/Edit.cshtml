@model mifinca.Models.finca

@{
    ViewBag.Title = "Edit";
}



<style>
    .none {
        display: none;
    }
</style>


<h2>Editar finca</h2>



@*@using (Html.BeginForm(new { enctype = "multipart/form-data" }))*@
@using (Html.BeginForm("Edit", "fincas", FormMethod.Post, new { enctype = "multipart/form-data" }))

    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">

            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.id_finca)

            @* Campo oculto *@
            <div class="form-group none">
                @Html.LabelFor(model => model.id_bodega, "id_bodega", htmlAttributes: new { @class = "control-label " })
                <div class="col-md-10">
                    @Html.DropDownList("id_bodega", null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.id_bodega, "", new { @class = "text-danger" })
                </div>
            </div>

            


            <div class="form-group mb-3">
                @Html.LabelFor(model => model.foto_finca, "Fotografía representativa de la finca", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    <label for="formFile" class="form-label"></label>

                    @Html.TextBox("update_foto_finca", "", new { type = "file", accept = "image/*", @class = "form-control" }) <br />

                    @* Oculto este campo pero se envia *@
                    @Html.EditorFor(model => model.foto_finca, new { htmlAttributes = new { @class = "form-control none" } })
                    @Html.ValidationMessageFor(model => model.foto_finca)

                    @*@Html.TextBoxFor(model => model.foto_finca, new { type = "file", accept = "image/*", @class = "form-control" })*@
                    @*@Html.ValidationMessageFor(model => model.foto_finca, "", new { @class = "text-danger" })*@
                </div>
            </div>

            <div class="form-group mb-3">
                @Html.LabelFor(model => model.nombre_finca, "Nombre de la finca", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.nombre_finca, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.nombre_finca, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group mb-3">
                @Html.LabelFor(model => model.extension, "Extensión territorial", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.extension, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.extension, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group mb-3">
                @Html.LabelFor(model => model.planoCatastral, "Fotografía del plano catastral", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">

                    @Html.TextBox("update_planoCatastral", "", new { type = "file", accept = "image/*", @class = "form-control" }) <br />

                    @* oculto este campo pero se envia *@
                    @Html.EditorFor(model => model.planoCatastral, new { htmlAttributes = new { @class = "form-control none" } })
                    @Html.ValidationMessageFor(model => model.planoCatastral, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="form-group mb-3">
                @Html.LabelFor(model => model.tablones, "Cantidad de tablones", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.tablones, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.tablones, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group mb-3">
                @Html.LabelFor(model => model.desripcion, "Descripción adicional", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.desripcion, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.desripcion, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.msnm_altura, "Cantidad de metros sobre el nivel del mar", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.msnm_altura, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.msnm_altura, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group mb-3">
                @Html.LabelFor(model => model.localizacionEntrada, "Seleccione la ubicación de la finca", htmlAttributes: new { @class = "control-label" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.localizacionEntrada, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.localizacionEntrada, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Guardar" class="btn btn-default" />
                </div>
            </div>
        </div>
    }

    <div>
        @Html.ActionLink("Salir sin guardar", "Index")
    </div>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")


    }
